<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <title>Portal Salud - Ingreso</title>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <h:outputStylesheet library="css" name="login.css"/>
</h:head>
<h:body styleClass="login-body">
<f:metadata>
    <f:event type="preRenderView" listener="#{usuarioSaludLoginBean.redirectIfLoggedIn}"/>
</f:metadata>
<div class="login-container">
    <header class="login-header">
        <h1>Portal Salud</h1>
        <p>Consulta tu informaci칩n registrada en HCEN</p>
    </header>

    <section class="login-content">
        <p class="login-hint">
            Accede con las credenciales temporales <strong>user</strong> / <strong>user</strong>.
        </p>

        <h:form id="loginForm" styleClass="login-form">
            <p:messages id="messages" showDetail="true" closable="true"/>

            <div class="input-group">
                <p:outputLabel for="username" value="Usuario"/>
                <p:inputText id="username"
                             value="#{usuarioSaludLoginBean.username}"
                             required="true"
                             requiredMessage="Debe ingresar un usuario"
                             placeholder="Ingresa tu usuario"
                             styleClass="login-input"/>
            </div>

            <div class="input-group">
                <p:outputLabel for="password" value="Contrase침a"/>
                <p:password id="password"
                            value="#{usuarioSaludLoginBean.password}"
                            required="true"
                            requiredMessage="Debe ingresar una contrase침a"
                            feedback="false"
                            placeholder="Ingresa tu contrase침a"
                            styleClass="login-input"/>
            </div>

            <p:commandButton value="Ingresar"
                             action="#{usuarioSaludLoginBean.login}"
                             update="messages"
                             styleClass="login-button"
                             icon="pi pi-sign-in"/>
        </h:form>
    </section>

    <div class="login-divider">
        <span>o</span>
    </div>

    <div class="oidc-section">
        <h3>Autenticaci칩n con gub.uy</h3>
        <p class="oidc-description">
            Ser치s redirigido a gub.uy para iniciar sesi칩n con tu identidad digital.
        </p>
        <a href="#{usuarioSaludLoginBean.oidcLoginUrl}" class="oidc-button">
            <span class="oidc-icon">游댏</span>
            <span>Iniciar sesi칩n con gub.uy</span>
        </a>
    </div>

    <div class="login-footer">
        <p>Sistema de Salud - Universidad de la Rep칰blica</p>
        <p>춸 2025 HCEN - Todos los derechos reservados</p>
    </div>
</div>
</h:body>
</html>
