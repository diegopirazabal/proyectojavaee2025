<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

<h:head>
    <title>HCEN - Portal Administrativo</title>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="stylesheet" type="text/css" href="#{request.contextPath}/resources/css/login.css"/>
</h:head>

<h:body styleClass="login-body">
    
    <div class="login-container">
        <div class="login-header">
            <h:link outcome="dashboard?faces-redirect=true" styleClass="login-logo-link">
                <h1>HCEN</h1>
                <h2>Portal Administrativo</h2>
            </h:link>
            <p>Historia Cl칤nica Electr칩nica Nacional</p>
        </div>

        <p class="login-note">
            Acceso temporal habilitado con usuario <strong>admin</strong> / <strong>admin</strong>.
        </p>

        <h:form id="loginForm" styleClass="login-form">
            <p:messages id="messages" showDetail="true" closable="true"/>
            
            <div class="input-group">
                <p:outputLabel for="username" value="Usuario:"/>
                <p:inputText id="username" 
                            value="#{login_bean.username}" 
                            required="true" 
                            requiredMessage="El usuario es requerido"
                            placeholder="Ingrese su usuario"
                            styleClass="login-input"/>
            </div>
            
            <div class="input-group">
                <p:outputLabel for="password" value="Contrase침a:"/>
                <p:password id="password" 
                           value="#{login_bean.password}" 
                           required="true" 
                           requiredMessage="La contrase침a es requerida"
                           placeholder="Ingrese su contrase침a"
                           styleClass="login-input"
                           feedback="false"/>
            </div>
            
            <div class="button-group">
                <p:commandButton value="Iniciar Sesi칩n" 
                                action="#{login_bean.login}"
                                styleClass="login-button"
                                update="messages"
                                icon="pi pi-sign-in"/>
            </div>
        </h:form>

        <div class="login-divider">
            <span>o</span>
        </div>

        <div class="oidc-section">
            <h3>Autenticaci칩n con gub.uy</h3>
            <p class="oidc-description">
                Ser치s redirigido a gub.uy para iniciar sesi칩n con tu identidad digital.
            </p>
            <a href="#{login_bean.oidcLoginUrl}" class="oidc-button">
                <span class="oidc-icon">游댏</span>
                <span>Iniciar sesi칩n con gub.uy</span>
            </a>
        </div>
        
        <div class="login-footer">
            <p>Sistema de Salud - Universidad de la Rep칰blica</p>
            <p>춸 2025 HCEN - Todos los derechos reservados</p>
        </div>
    </div>

</h:body>
</html>
